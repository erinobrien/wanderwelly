<!DOCTYPE html>
<html>
  <head>
    <title>S-K Traverse</title>
    <link rel="shortcut icon" href="img/favicon.png"/> 
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">

    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
         <link rel="stylesheet" href="./css/stylesheet.css">

     <script src="./js/weather.js"></script>
   <script src="./js/jquery-3.3.1.min.js"></script>
 

  </head>
  <body>

<header>
      <nav class="black_1">
        <div class="menu-icon">
          <i class="fa fa-bars fa-2x"></i>
        </div>

        <div class="logo">
          <a href="index.html">Wander Welly</a>
        </div>

        <div class="menu">
          <ul>
            <li><a href="index.html#top_suggestions">Top Suggestions</a></li>
            <li><a href="./all_trails.html">All Trails</a></li>
            <li><a href="./map.html">Map</a></li>
            
          </ul>
        </div>
        </div>
      </nav>
    </header>

    
<section class="hero" id="home">
     <!-- Top navigation bar and logo -->
    


<br>
<br>
<br>





 <!--<div class="w3-row-padding">
    <div class="w3-col s4">
     <a href="index.html"><img src="img/back.png"></a>
    </div>
    <div class="w3-col s4 w3-center">
      <h3>S-K Traverse</h3>
    </div>
    <div class="w3-col s4">
    </div>
  </div>-->



    <div id="map"></div>


<br>




<!-- Work Row -->
<div class="w3-row-padding w3-padding-32" id="work">
  <div class="w3-row-padding" style="text-align: center;">
    <div class="w3-col s6 m6 l6 w3-center">
      <img src="img/red_MarkerA.png">
      <h6>Your Current Location</h6>
    </div>
    <div class="w3-col s6 m6 l6 w3-center">
      <img src="img/red_MarkerB.png">
      <h6>Start of Trail</h6>
    </div>
  </div>

  <div class="w3-row-padding" style="text-align: center;">
    <div class="w3-col s0 m2 l2 w3-center">
      <h6></h6>
    </div>
    <div class="w3-col s12 m8 l8 w3-center">
      <h2>S-K Traverse</h2>
    <p>This long route is a historical trampers route traversing the length of the Mighty Tararua from Putara in the north to Kaitoke in the south. Once, this was a 2-4 day tramp that is now being completed in under 24 hours. 

The route is similar (some say not as hard) as the UK's Bob Graham Round. There have been 13 successful sub-24 hour club members. Could you be the 14th?</p>
    </div>
    <div class="w3-col s0 m2 l2 w3-center">
      <h6></h6>
    </div>
  </div>

<div class="w3-quarter">
<div class="w3-card">
  <div class="w3-container">
  <div class="w3-row-padding w3-center">
  	
    <div class="w3-col s4">
      <i class="fa fa-map-marker w3-text-blue w3-xxlarge"></i>
      <h6>79.7km</h6>
    </div>
    <div class="w3-col s4">
      <i class="fa fa-signal w3-text-blue w3-xxlarge"></i>
      <h6>5,946m</h6>
    </div>
       <div class="w3-col s4">
      <i class="fa fa-arrow-right w3-text-blue w3-xxlarge"></i>
      <h6>One Way</h6>
    </div>
		<br>
		<br>
      <div class="w3-row-padding w3-center">
    <div class="w3-col s4">
      <i class="fa fa-leaf w3-text-blue w3-xxlarge"></i>
      <h6>Back-Country</h6>
    </div>
    <div class="w3-col s4">
      <i class="fa fa-tint w3-text-blue w3-xxlarge"></i>
      <h6>Water available (irregularly)</h6>
    </div>
       <div class="w3-col s4">
      <i class="fa fa-female fa fa-male-female w3-text-blue w3-xxlarge"></i>
      <h6>Toilets (limited)</h6>
    </div>
        <div class="w3-col s12">
    <button class="w3-btn w3-red w3-round-xxlarge">HARD</button>
  </div>
  </div>
  </div>
  </div>
  </div>
</div>


<div class="w3-quarter">
<div class="w3-card">
  <div class="w3-container">
  <h3>Trail Type</h3>
  <p>Farmland</p>
  <p>Backcountry</p>
  <p>Mountain Route</p>

  <h3>Rating</h3>
  <p>5 stars</p>
  </div>
  </div>
</div>

<div class="w3-quarter">
<div class="w3-card">
  <div class="w3-container">
  <h3>Trail Condition</h3>
  <p>Good, however great caution is needed as this is a backcountry route with minimal signage</p>
  <h3>Trail Tips</h3>
  <p>This long route is a historical trampers route traversing the length of the mighty Tararua from Putara in the north to Kaitoke in the south, so it is suggested that only experienced back country hikers attempt this trail</p>


  </div>
  </div>
</div>

<div class="w3-quarter">
<div class="w3-card">
  <div class="w3-container" id="weather">
  <h3>Weather Conditions</h3>
  </div>
  </div>
</div>

</div>


</section>


    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD0R075l8bCPaaAE-2AD0RX6XOTj8qgAfU
&">
    </script>
 <script type="text/javascript">
  function _width(){
        var _width = $(window).width();
        if(_width < 640){
          $('.logo').addClass('hide');
        }else{
          $('.logo').removeClass('hide');
        }
      }

      $(document).ready(function(){

            $(".menu-icon").on("click", function() {
              $("nav ul").toggleClass("showing");
              $(".logo").toggleClass("hide");
            });

            $(window).resize(function() {    
              _width();  
            })
            _width();
            
            });



if (navigator.geolocation) { //Checks if browser supports geolocation
   navigator.geolocation.getCurrentPosition(function (position) {                                                              //This gets the
     var latitude = position.coords.latitude;                    //users current
     var longitude = position.coords.longitude;                 //location
     var coords = new google.maps.LatLng(latitude, longitude); //Creates variable for map coordinates
     var directionsService = new google.maps.DirectionsService();
     var directionsDisplay = new google.maps.DirectionsRenderer();
     var mapOptions = //Sets map options
     {
       zoom: 15,  //Sets zoom level (0-21)
       center: coords, //zoom in on users location
       mapTypeControl: true, //allows you to select map type eg. map or satellite
       navigationControlOptions:
       {
         style: google.maps.NavigationControlStyle.SMALL //sets map controls size eg. zoom
       },
       mapTypeId: google.maps.MapTypeId.ROADMAP //sets type of map Options:ROADMAP, SATELLITE, HYBRID, TERRIAN
     };
     map = new google.maps.Map( /*creates Map variable*/ document.getElementById("map"), mapOptions /*Creates a new map using the passed optional parameters in the mapOptions parameter.*/);
  



     directionsDisplay.setMap(map);
     directionsDisplay.setPanel(document.getElementById('panel'));

     var request = {
       origin: coords,
       destination: '-40.656943, 175.586802', //Start aro valley
       travelMode: google.maps.DirectionsTravelMode.DRIVING
     };

     directionsService.route(request, function (response, status) {
       if (status == google.maps.DirectionsStatus.OK) {
         directionsDisplay.setDirections(response);
       }
     });

     //directionsService = new google.maps.DirectionsService();
        directionsDisplay2 = new google.maps.DirectionsRenderer({
          suppressMarkers: true,
          suppressInfoWindows: true
        });
        directionsDisplay2.setMap(map);

        var request = {
          origin: '-40.656943, 175.586802', //start aro valley
          destination: '-40.683138, 175.550047',//1st crossroad
          travelMode: google.maps.DirectionsTravelMode.WALKING
        };
        directionsService.route(request, function(response, status) {
          if (status == google.maps.DirectionsStatus.OK) {
            directionsDisplay2.setDirections(response);
          }
        });

     directionsService = new google.maps.DirectionsService();
        directionsDisplay3 = new google.maps.DirectionsRenderer({
          suppressMarkers: true,
          suppressInfoWindows: true
        });
        directionsDisplay3.setMap(map);

        var request = {
          origin: 'Alpha Hut, Tararua Forest Park, Wellington', //1st crossroad
          destination: '-41.069906, 175.228020',//End Point
          travelMode: google.maps.DirectionsTravelMode.WALKING
        };
        directionsService.route(request, function(response, status) {
          if (status == google.maps.DirectionsStatus.OK) {
            directionsDisplay3.setDirections(response);
          }
        });




      google.maps.event.addDomListener(window, 'load', initialise);


        navigator.geolocation.getCurrentPosition(function showPosition(position){ 
                    sendApiRequest(weatherApiUrl+"lat="+position.coords.latitude+"&lon="+position.coords.longitude+"&APPID="+key);
                }, showError);
   });
}
   function sendApiRequest(url) {

            fetch(url)
                .then((resp) => resp.json())
                .then(function(data) {
                    var temp = parseInt(data.main.temp)-273;
                    data.weather.forEach(function (item){
                        document.getElementById("weather").innerHTML+= 
                                "<p>"+item.description+"</p>"+
                                "<img src=img/"+item.icon+".png>"+
                                "<p>Humidity: "+data.main.humidity+"</p>"+
                                "<p>Temperature: "+temp+"</p>"+
                                "<p>Wind Speed: "+data.wind.speed+"</p>";            
                            });
                })
                .catch(function() {
                    console.log(error);
                });
        }

    function showError(error) {
            switch(error.code) {
                case error.PERMISSION_DENIED:
                    x.innerHTML = "User denied the request for Geolocation."
                    break;
                case error.POSITION_UNAVAILABLE:
                    x.innerHTML = "Location information is unavailable."
                    break;
                case error.TIMEOUT:
                    x.innerHTML = "The request to get user location timed out."
                    break;
                case error.UNKNOWN_ERROR:
                    x.innerHTML = "An unknown error occurred."
                    break;
            }
        }

    </script>
  </body>
</html>